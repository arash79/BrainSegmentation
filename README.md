# BrainSegmentation

This is a scientific in-progress work in collaboration with Tampere University, Finland, under the supervision of Dr. Samavaki & Prof. S. Pursiainen.

### Note: It is recommended to use this project in a virtual environment.

A full guide on how to set up a virtual environment in python is available at:

https://www.freecodecamp.org/news/how-to-setup-virtual-environments-in-python/

This project relies heavily on some third-party libraries. In order to use these files you have to install those libraries first. You can install the mentioned libraries by entering the following command in your terminal (after activating the virtual environment):

```python
pip install -r requirements.txt
```

to have a fully functioning installation of the modules, you have to make sure to have Matlab on your system, because the spm12 python wrapper currently requires Matlab installation to work.

If you face any difficulties during the installation of the spm12 wrapper by the above command, you can use the following instruction which is provided by the project developers:


https://github.com/AMYPAD/SPM12

All data were fetched from the OpenNeuro dataset which is linked below:

https://openneuro.org/datasets/ds003642/versions/1.1.0/download

I have included the original INV1 and INV2 images of code 045 in the ```data``` directory but due to upload size limits imposed by Github, I couldn't include the T1w image which is by the way crucial for the brain segmentation function.

The data with the ```extracted``` prefix in their names are the brain tissue extracted from the included type of imaging. These extractions were carried out by the BET tool of the FSL software and its documentation is linked here:

https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BET/UserGuide

The ```result``` and ```stl``` folders contain the results of the segmentation processes and 3-D models of those segmentations respectively. Again some of the files in these two folders are missing because of the upload size constraints but they can be easily generated by running the ```main.py``` module of the repository.

At last, if your result did not seem good enough, you may want to consider changing the threshold levels at line 32 of module ```amypad_seg.m``` located at:

```
venv\Lib\site-packages\spm12\amypad_seg.m
```
